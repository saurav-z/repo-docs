# Bitarray: Efficient Arrays of Booleans in Python

**Bitarray is a Python library offering an efficient and flexible way to represent and manipulate arrays of booleans, optimized for performance and memory usage.**

[View the source code on GitHub](https://github.com/ilanschnell/bitarray)

## Key Features

*   **Bit-Endianness Control:** Choose between little-endian and big-endian representations for each bitarray object, enhancing flexibility.
*   **Sequence-like Operations:** Supports slicing, concatenation (+), repetition (\*), in-place operations (+=, \*=), the `in` operator, and `len()`.
*   **Bitwise Operations:** Provides bitwise operators like `~`, `&`, `|`, `^`, `<<`, `>>` (and their in-place counterparts) for fast bit manipulation.
*   **Prefix Code Encoding/Decoding:**  Includes fast methods for encoding and decoding variable bit length prefix codes.
*   **Buffer Protocol Support:**  Implements the buffer protocol for efficient integration with other Python libraries and memory-mapped files.
*   **Data Conversion:**  Provides methods for packing and unpacking to other binary data formats (e.g., NumPy arrays).
*   **Pickling and Unpickling:** Enables serialization and deserialization of bitarray objects.
*   **Frozenbitarray:** Includes immutable, hashable `frozenbitarray` objects suitable for use as dictionary keys.
*   **Sequential Search:** Implements efficient search algorithms.
*   **Type Hinting:** Supports type hints for improved code readability and maintainability.
*   **Comprehensive Testing:**  Features an extensive test suite with over 500 unit tests.
*   **Utility Module (bitarray.util):** Contains a rich set of utility functions, including:
    *   Conversion to and from hexadecimal strings.
    *   Generation of random bitarrays.
    *   Pretty printing of bitarrays.
    *   Conversion to and from integers.
    *   Creation of Huffman codes.
    *   Compression of sparse bitarrays.
    *   Serialization and deserialization.
    *   Various count functions.
    *   Other helpful functions.

## Installation

Bitarray can be easily installed using `pip`:

```bash
pip install bitarray
```

Alternatively, you can use `conda`:

```bash
conda install bitarray
```

After installation, you can verify it with the following command.  This runs the test suite:

```bash
python -c 'import bitarray; bitarray.test()'
```

## Usage

Bitarray objects behave much like Python lists but are optimized for storing bits. They offer similar methods (e.g., `append`, `extend`, slicing) and support bitwise operations.  A key difference is the ability to access the underlying machine representation.

**Example:**

```python
from bitarray import bitarray

# Create an empty bitarray
a = bitarray()
a.append(1)
a.extend([1, 0])
print(a)  # Output: bitarray('110')

# Initialize from a string
b = bitarray('1001011')
print(b)  # Output: bitarray('1001011')

# Indexing
print(b[2])  # Output: 0
print(b[2:4])  # Output: bitarray('01')

# Slice Assignment
a = bitarray(50)
a.setall(0)
a[11:37:3] = 9 * bitarray('1')
print(a)

# Bitwise operations
c = bitarray('101110001')
d = bitarray('111001011')
e = c ^ d
print(e)

```

## Bit-Endianness

Bitarray allows you to specify the bit-endianness (big-endian or little-endian) when working with the machine representation or when interfacing with memory buffers.  By default, bitarrays use big-endian representation.  The endianness of a bitarray object is immutable once created.

## Bitwise Operators

Bitarray supports a full suite of bitwise operators: `~`, `&`, `|`, `^`, `<<`, `>>` (and their in-place counterparts). Bitwise operations act efficiently on the underlying byte representation.

## Buffer Protocol

Bitarray objects support the buffer protocol, enabling efficient data transfer with other Python objects that expose a buffer, like NumPy arrays, or memory-mapped files.

## Variable Bit Length Prefix Codes

Bitarray provides functionality for encoding and decoding data using prefix codes, such as those generated by Huffman coding. This is useful for data compression or representing data with variable-length codes.

## Frozenbitarrays

Frozenbitarrays are immutable versions of bitarrays. They are hashable and can be used as dictionary keys.