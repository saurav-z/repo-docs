<p align="center">
  <img src="assets/logo.jpg" style="width: 100%; height: auto;">
</p>
<div align="center" style="line-height: 1;">
  <a href="https://arxiv.org/abs/2508.00554" target="_blank"><img alt="arXiv" src="https://img.shields.io/badge/arXiv-2508.00554-B31B1B?logo=arxiv"/></a>
  <a href="https://opensource.org/licenses/Apache-2.0" target="_blank"><img alt="License" src="https://img.shields.io/badge/License-Apache_2.0-blue.svg"/></a>
  <a href="https://www.python.org/downloads/release/python-3100/" target="_blank"><img alt="Python Version" src="https://img.shields.io/badge/Python-3.10+-brightgreen.svg"/></a>
  <a href="https://www.reddit.com/r/ContestTradeCommunity/?feed=home" target="_blank"><img alt="Reddit" src="https://img.shields.io/badge/Reddit-ContestTradeCommunity-orange?logo=reddit&logoColor=white"/></a>
  <a href="./assets/wechat.png" target="_blank"><img alt="WeChat" src="https://img.shields.io/badge/WeChat-ContestTrade-brightgreen?logo=wechat&logoColor=white"/></a>
</div>
<div align="center">
  <a href="README.md">English</a> | <a href="README_cn.md">ä¸­æ–‡</a>
</div>

---

# ContestTrade: AI-Powered Multi-Agent Trading Framework

**ContestTrade** is a cutting-edge multi-agent trading framework designed to automate stock selection and event-driven investment strategies. ([See the original repo](https://github.com/FinStep-AI/ContestTrade))

## Key Features

*   **Automated Stock Selection:** Automatically scans the entire market to identify potential trading opportunities.
*   **Event-Driven Focus:** Leverages catalysts like news, announcements, and policy changes to find impactful investment opportunities.
*   **Multi-Agent Architecture:** Utilizes a team of agents with diverse trading beliefs for robust decision-making.
*   **Customizable Strategies:** Supports user-defined agent preferences and trading strategies for flexibility.
*   **Comprehensive Data Analysis:**  Processes market data from multiple sources.
*   **Clear Reporting:** Provides detailed research and data analysis reports.
*   **CLI Interface:** Easy-to-use command-line interface for market analysis.

## Introduction

ContestTrade is a sophisticated multi-agent trading framework focused on event-driven stock selection. The system is designed to automatically discover, evaluate, and track event-driven opportunities, ultimately providing actionable asset allocation recommendations without human intervention. This is achieved through a unique two-stage pipeline that mirrors the decision-making process of an investment firm.

## Framework Overview

<p align="center">
  <img src="assets/architecture.jpg" style="width: 90%; height: auto;">
</p>

ContestTrade operates on a two-stage pipeline that simulates the dynamic decision-making process of an investment firm:

1.  **Data Processing Stage:** Raw market data is processed by the **Data Team**, which uses multiple Data Analysis Agents to refine raw data into structured "textual factors". An internal contest mechanism assesses the value of the factors generated by each agent to build an optimal "factor portfolio".
2.  **Research and Decision-Making Stage:** The factor portfolio is passed to the **Research Team**. Research Agents, each with a unique "Trading Belief," use financial tools to analyze factors and generate trading proposals. A second internal contest evaluates these proposals, resulting in a unified asset allocation strategy.

## Installation

```bash
# 1. Clone the project repository
git clone https://github.com/FinStep-AI/ContestTrade.git
cd ContestTrade

# 2. (Recommended) Create and activate a virtual environment
conda create -n contesttrade python=3.10
conda activate contesttrade

# 3. Install project dependencies
pip install -r requirements.txt
```

Alternatively, deploy with [Docker](https://docs.n8n.io/hosting/installation/docker/):

```
docker run -it --rm --name contest_trade -v $(pwd)/config.yaml:/ContestTrade/config.yaml finstep/contesttrade:v2.0
```

## Configuration

Before running ContestTrade, you need to configure the necessary API keys and LLM parameters.  Edit the `config_us.yaml` file.

| Key                      | Description                                | Required |
| :----------------------- | :----------------------------------------- | :------- |
| `TUSHARE_KEY`            | Tushare data interface key                 | No       |
| `BOCHA_KEY`              | Bocha search engine key                    | No       |
| `SERP_KEY`               | SerpAPI search engine key                  | No       |
| `FMP_KEY`                | FMP API key                                | **Yes**  |
| `FINNHUB_KEY`            | Finnhub API key                            | No       |
| `ALPHA_VANTAGE_KEY`      | Alpha Vantage API key                      | **Yes** |
| `POLYGON_KEY`            | Polygon API key                            | **Yes** |
| `LLM_API_KEY`            | LLM API key for general tasks              | **Yes** |
| `LLM_BASE_URL`           | LLM API base URL for general tasks         | **Yes** |
| `LLM_THINKING_API_KEY`   | LLM API key for complex reasoning          | No       |
| `LLM_THINKING_BASE_URL`  | LLM API base URL for complex reasoning     | No       |
| `VLM_API_KEY`            | VLM API key for visual analysis            | No       |
| `VLM_BASE_URL`           | VLM API base URL for visual analysis       | No       |

> Note: Obtain LLM and VLM API keys and fill in the model name, URL, and API Key.

## Preference

Each Research Agent has a "trading belief" that the system uses to generate signals. The config file `contest_trade/config/belief_list.json` contains an array of strings.

Example 1 â€” preference for short-term event-driven (more aggressive):
```json
[
  "Focus on short-term event-driven opportunities: prioritize company announcements, M&A and restructuring, sudden order increases, technological breakthroughs and other catalysts; prefer mid/small-cap, high-volatility thematic stocks, suitable for aggressive arbitrage strategies."
]
```

Example 2 â€” preference for stable events (more conservative):
```json
[
  "Focus on stable, high-certainty events: pay attention to dividends, buybacks, earnings forecast confirmations, major contract signings and policy tailwinds; prefer large-cap blue-chips with low volatility and high certainty, suitable for conservative allocation."
]
```

Default configuration:
```json
[
  "Based on the provided information, comprehensively consider each company's business dynamics, industry trends and potential market impact. Recommend stock portfolios with short-term investment potential for two groups: Group 1 â€” risk-seekers (prefer high volatility, high returns, mid/low market cap stocks); Group 2 â€” conservative investors (prefer low volatility, stable returns, large-cap stocks).",
  "Based on recent sudden events, policy adjustments and company announcements as catalysts, combined with market sentiment transmission paths and capital game features. Screen event-driven opportunities for two different styles: Group 1 â€” aggressive arbitrage (prefer restructuring expectation, sudden order increases, technical breakthroughs in small-cap stocks); Group 2 â€” defensive arbitrage (prefer dividend increases, large buybacks, acquisition of franchise rights in blue-chip stocks). Pay attention to northbound capital movement and institutional seat trends on the trading leaderboard for resonance effects."
]
```

## Usage

Start ContestTrade with the Command Line Interface (CLI):

```bash
python -m cli.main run
```

Choose your market in the terminal.

<p align="center">
  <img src="assets/contest_trade_cli_select_market.jpg" style="width: 100%; height: auto;">
</p>

View the results summary after the agents complete.

<p align="center">
  <img src="assets/contest_trade_cli_main_us.jpg" style="width: 100%; height: auto;">
</p>

View detailed reports:

<p align="center">
  <img src="assets/contest_trade_cli_report_us.jpg" style="width: 100%; height: auto;">
</p>

<p align="center">
  <img src="assets/contest_trade_cli_research_report_us.jpg" style="width: 100%; height: auto;">
</p>

<p align="center">
  <img src="assets/contest_trade_cli_data_report_us.jpg" style="width: 100%; height: auto;">
</p>

> All reports are saved in Markdown format in the `contest_trade/agents_workspace/results` directory.

## ðŸŒŸ Vision & Roadmap

ContestTrade is committed to leveraging the power of open-source to explore new paradigms in quantitative trading.

### Roadmap

**V1.1 (Finished): Framework Stability Enhancement & Core Experience Optimization**
- [âœ“] The core data source module is decoupled to achieve adaptors for multiple data sources. (`data-provider` refactor)
- [âœ“] Optimized CLI logging and interaction experience.

**V2.0 (Finished): Market and Function Expansion**
- [âœ“] Access to **US stock** market data.
- [âœ“] Introduced richer factors and signal sources.

**Future Plans:**
- [ ] Support for Hong Kong stocks and other markets
- [ ] Visual backtesting and analysis interface
- [ ] Support for scaling up more agents

## Contributing

ContestTrade is an open-source project. See the **[Contributing Guide (CONTRIBUTING.md)](CONTRIBUTING.md)**.

Also, contribute by:
*   Proposing feature suggestions or reporting bugs: [Go to Issues page](https://github.com/FinStep-AI/ContestTrade/issues)
*   Providing feedback on testing results.

## Star History

<div align="center">
  <a href="https://star-history.com/#FinStep-AI/ContestTrade&Date">
    <img src="https://api.star-history.com/svg?repos=FinStep-AI/ContestTrade&type=Date" alt="Star History Chart" style="width: 80%;">
  </a>
</div>

## Disclaimer

**Important Disclaimer:** `ContestTrade` is an open-source framework intended for research and educational purposes only. It does not provide investment advice.

**Risk Warning:**
*   **Market Risk:** This project does not constitute investment, financial, legal, or tax advice.
*   **Data Accuracy:** Data sources may have delays, inaccuracies, or incompleteness.
*   **Model Hallucination:** AI models have limitations.
*   **Liability:** Developers assume no liability for any losses. Invest with caution.

**Before using this framework for any trading decisions, understand the risks.**

## Citation

```bibtex
@misc{zhao2025contesttrade,
      title={ContestTrade: A Multi-Agent Trading System Based on Internal Contest Mechanism}, 
      author={Li Zhao and Rui Sun and Zuoyou Jiang and Bo Yang and Yuxiao Bai and Mengting Chen and Xinyang Wang and Jing Li and Zuo Bai},
      year={2025},
      eprint={2508.00554},
      archivePrefix={arXiv},
      primaryClass={q-fin.TR}
}
```

## License

This project is licensed under the [Apache 2.0 License](LICENSE).